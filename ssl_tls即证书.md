### 加密算法
* 常见的对称加密算法有DES、3DES、AES、Blowfish、IDEA、RC5、RC6
  * 举个简单例子，我把我的数据块切分成32位大小的，然后都和我的秘钥key(32位)进行异或，在相加，这就是个简单的对称加密了。。。有了我的key就可以解开了，在异或一次我的key就解开了
  * 举个例子AES的模式，有128，256 bit的，接下来是加密模式
    ECB：是一种基础的加密方式，密文被分割成分组长度相等的块（不足补齐），然后单独一个个加密，一个个输出组成密文。
    CBC：是一种循环模式，前一个分组的密文和当前分组的明文异或操作后再加密，这样做的目的是增强破解难度。
    CFB/OFB实际上是一种反馈模式，目的也是增强破解的难度。
    还有填充方式，cbc是需要填充的， cbc还需要iv, 初始化向量

ECB和CBC的加密结果是不一样的，两者的模式不同，而且CBC会在第一个密码块运算时加入一个初始化向量。
* 非对称加密算法RSA、ECC（移动设备用）、Diffie-Hellman、El Gamal、DSA（数字签名用），有个公钥和私钥，公钥加密的数据只有对应的私钥能解开，而私钥加密的数据就只有公钥能解开了 ([rsa原理](http://www.ruanyifeng.com/blog/2013/06/rsa_algorithm_part_one.html)), rsa的加密明文是必须小于key的![明文，密文长度](http://www.metsky.com/archives/657.html)
被破解的难度在于大整数的因式分解困难
* 加密时注意项
  RSA加密常用的填充方式有下面3种：

  1. RSA_PKCS1_PADDING 填充模式，最常用的模式
  ```
  要求:
  输入：必须 比 RSA 钥模长(modulus) 短至少11个字节, 也就是　RSA_size(rsa) – 11
  如果输入的明文过长，必须切割，　然后填充

  输出：和modulus一样长

  根据这个要求，对于512bit的密钥，　block length = 512/8 – 11 = 53 字节
  ```

  2. RSA_PKCS1_OAEP_PADDING
  ```
  输入：RSA_size(rsa) – 41

  输出：和modulus一样长
  ```
  3. for RSA_NO_PADDING　　不填充
    ```
    输入：可以和RSA钥模长一样长，如果输入的明文过长，必须切割，　然后填充

    输出：和modulus一样长

    跟DES，AES一样，　RSA也是一个块加密算法（ block cipher algorithm），总是在一个固定长度的块上进行操作。

    但跟AES等不同的是，　block length是跟key length有关的。

    每次RSA加密的明文的长度是受RSA填充模式限制的，但是RSA每次加密的块长度就是key length。
    ```
  需要注意：

  假如你选择的秘钥长度为1024bit共128个byte：

  1. 当你在客户端选择RSA_NO_PADDING填充模式时，如果你的明文不够128字节， 加密的时候会在你的明文前面，前向的填充零。解密后的明文也会包括前面填充的零，这是服务器需要注意把解密后的字段前向填充的零去掉，才是真正之前加密的明文。

  2. 当你选择RSA_PKCS1_PADDING填充模式时，如果你的明文不够128字节， 加密的时候会在你的明文中随机填充一些数据，所以会导致对同样的明文每次加密后的结果都不一样。对加密后的密文，服务器使用相同的填充方式都能解密。解密后的明文也就是之前加密的明文。

  3. RSA_PKCS1_OAEP_PADDING填充模式没有使用过， 他是PKCS#1推出的新的填充方式，安全性是最高的，

  和前面RSA_PKCS1_PADDING的区别就是加密前的编码方式不一样。
### ssl/tls的加密流程
[详见](http://www.ruanyifeng.com/blog/2014/09/illustration-ssl.html)
### 数字证书
* 现在的数字证书一般采用证书的格式遵循 ITUT X.509国际标准。一个标准的X.509数字证书包含以下一些内容
  1. 证书的版本信息;
  2. 证书的序列号，每个证书都有一个唯一的证书序列号;
  3. 证书所使用的签名算法;
  4. 证书的发行机构名称，命名规则一般采用X.500格式;
  5. 证书的有效期，现在通用的证书一般采用UTC时间格式，它的计时范围为1950-2049;
  6. 证书所有人的名称，命名规则一般采用X.500格式;
  7. 证书所有人的公开密钥;
  8. 证书发行者对证书的签名。
* 证书文件类型
  * PEM 格式，它仅仅列出证书，可能还有与之有关的私钥，以 Base 64 字符串的形式存储于一个纯文本文件中。
* X.509证书标准支持三种不对称加密算法：RSA, DSA, Diffie-Hellman algorithms。最常用的是RSA算法
* [数字证书即数字签名的原理](http://www.ruanyifeng.com/blog/2011/08/what_is_a_digital_signature.html)

* 数字签名的作用
  1. 是能确定消息的不可抵赖性，因为他人假冒不了发送方的私钥签名。发送方是用自己的私钥对信息进行加密的，只有使用发送方的公钥才能解密。
  2. 是数字签名能保障消息的完整性。一次数字签名采用一个特定的哈希函数，它对不同文件产生的数字摘要的值也是不相同的
* 数字证书的作用
  1. 不可抵赖性
  2. 消息的完整性
  3. 身份认证

### CA 数字证书认证机构（英语：Certificate Authority，缩写为CA）
* 负责发放和管理数字证书的权威机构，承担公钥体系中公钥的合法性检验的责任。CA是证书的签发机构，它是PKI的核心
* CA是证书的签发机构，它是PKI的核心。CA是负责签发证书、认证证书、管理已颁发证书的机关。它要制定政策和具体步骤来验证、识别用户身份，并对用户证书进行签名，以确保证书持有者的身份和公钥的拥有权。
* CA 也拥有一个证书（内含公钥）和私钥。网上的公众用户通过验证 CA 的签字从而信任 CA ，任何人都可以得到 CA 的证书（含公钥），用以验证它所签发的证书。
* 如果用户想得到一份属于自己的证书，他应先向 CA 提出申请。在 CA 判明申请者的身份后，便为他分配一个公钥，并且 CA 将该公钥与申请者的身份信息绑在一起，并为之签字后，便形成证书发给申请者。
* 如果一个用户想鉴别另一个证书的真伪，他就用 CA 的公钥对那个证书上的签字进行验证，一旦验证通过，该证书就被认为是有效的
[ca](http://blog.csdn.net/hherima/article/details/52469488)
![](http://img.blog.csdn.net/20160908112422114)
![](http://img.blog.csdn.net/20160908113521314)
![](http://img.blog.csdn.net/20160908113425891)
### 公钥基础设施（Public Key Infrastructure，简称PKI）

![](http://my.csdn.net/uploads/201207/23/1343046891_2891.gif)